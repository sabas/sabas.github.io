<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Stefano Sabatini Homepage</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="Stefano Sabatini">
    <link rel="shortcut icon" href="media/favicon.ico" />

    <link href="../../vendor/css/bootstrap.min.css" rel="stylesheet">

     <link rel="shortcut icon" href="../../media/favicon.ico">
                                   
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-13244504-2']);
  _gaq.push(['_setDomainName', 'stefanosabatini.eu']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

<style>
.navbar-inverse .navbar-nav li a {
line-height: 60px;
}
.img140 {
height: 140px;
}
.center{text-align:center;}
.row{padding:15px;}
</style>
  </head>

  <body>
    <div class="container">

      <div class="navbar navbar-inverse navbar-static-top" role="navigation">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
         <a class="navbar brand" href="../../index.html"><img src="../../media/logo.png" style="height:60px;"/></a>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
           <li><a href="../../index.html">Home</a></li>
           <li><a href="../../projects.html">Projects</a></li>
           <li><a href="../../about.html">About me</a></li>
          </ul>
        </div>
      </div>

       <div class="row">
<link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7/leaflet.css" />
<script src="http://cdn.leafletjs.com/leaflet-0.7/leaflet.js"></script>
<script src="../../script/map.js"></script>

<div id="map" style="width:50%;height:300px; margin-right:10px; float:left;"></div>

<h1>Open Car Sharing</h1>

<p>Car Sharing parking spaces for Genova and Savona, received and inserted in OpenStreetMap in October 2012.</p>
<p><a href="carsharing.tsv">Download the TSV</a></p>

<br style="clear:both;"/>
<script type="text/javascript">
//https://code.google.com/p/microajax/
function microAjax(B,A){this.bindFunction=function(E,D){return function(){return E.apply(D,[D])}};this.stateChange=function(D){if(this.request.readyState==4){this.callbackFunction(this.request.responseText)}};this.getRequest=function(){if(window.ActiveXObject){return new ActiveXObject("Microsoft.XMLHTTP")}else{if(window.XMLHttpRequest){return new XMLHttpRequest()}}return false};this.postBody=(arguments[2]||"");this.callbackFunction=A;this.url=B;this.request=this.getRequest();if(this.request){var C=this.request;C.onreadystatechange=this.bindFunction(this.stateChange,this);if(this.postBody!==""){C.open("POST",B,true);C.setRequestHeader("X-Requested-With","XMLHttpRequest"); C.setRequestHeader("Content-type","application/x-www-form-urlencoded");C.setRequestHeader("Connection","close")}else{C.open("GET",B,true)}C.send(this.postBody)}};
</script>
<script>
var map = initmap(44.4291,8.6977, 9);
	function loadLayer(url)
	{
		var myLayer = L.geoJson(url,{
			onEachFeature:function onEachFeature(feature, layer) {
				if (feature.properties && feature.properties.nome) {
					layer.bindPopup(feature.properties.nome);
				}
			},
			pointToLayer: function (feature, latlng) {		
				var marker=L.marker(latlng);
				return marker;
			}
		}).addTo(map);
	}

microAjax('carsharing.geojson',function (res) { 
var feat=JSON.parse(res);
loadLayer(feat);
 } );
</script>
        </div>
      
      <footer>
        <p class="pull-right"><a onclick="$(this).click(function() {$('html,body').animate({scrollTop:0},800);});">Back to top</a></p>
        <p>&copy; 2014 Stefano Sabatini &middot; Images CC-BY Wikimedia Commons</p>
      </footer>
    </div>
    <script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
    <script src="../../vendor/js/bootstrap.min.js"></script>	  
  </body>
</html>
