---
title: Car Sharing
layout: default
---
      <div class="row">
        <div class="col-lg-12">
<link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.2/leaflet.css" />
<script src="http://cdn.leafletjs.com/leaflet-0.7.2/leaflet.js"></script>

<div id="map" style="width:50%;height:300px; margin-right:10px; float:left;"></div>

<h1>Open Car Sharing</h1>

<p>Car Sharing parking spaces for Genova and Savona, received and inserted in OpenStreetMap in October 2012.</p>
<p><a href="carsharing.tsv">Download the TSV</a></p>

<br style="clear:both;"/>
<script type="text/javascript">
//https://code.google.com/p/microajax/
function microAjax(B,A){this.bindFunction=function(E,D){return function(){return E.apply(D,[D])}};this.stateChange=function(D){if(this.request.readyState==4){this.callbackFunction(this.request.responseText)}};this.getRequest=function(){if(window.ActiveXObject){return new ActiveXObject("Microsoft.XMLHTTP")}else{if(window.XMLHttpRequest){return new XMLHttpRequest()}}return false};this.postBody=(arguments[2]||"");this.callbackFunction=A;this.url=B;this.request=this.getRequest();if(this.request){var C=this.request;C.onreadystatechange=this.bindFunction(this.stateChange,this);if(this.postBody!==""){C.open("POST",B,true);C.setRequestHeader("X-Requested-With","XMLHttpRequest"); C.setRequestHeader("Content-type","application/x-www-form-urlencoded");C.setRequestHeader("Connection","close")}else{C.open("GET",B,true)}C.send(this.postBody)}};
</script>
<script>
var map = L.map('map').setView([44.4291,8.6977], 9);
L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
    attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
}).addTo(map);

	function loadLayer(url)
	{
		var myLayer = L.geoJson(url,{
			onEachFeature:function onEachFeature(feature, layer) {
				if (feature.properties && feature.properties.nome) {
					layer.bindPopup(feature.properties.nome);
				}
			},
			pointToLayer: function (feature, latlng) {		
				var marker=L.marker(latlng);
				return marker;
			}
		}).addTo(map);
	}

microAjax('carsharing.geojson',function (res) { 
var feat=JSON.parse(res);
loadLayer(feat);
 } );
</script>
        </div>
      </div>
